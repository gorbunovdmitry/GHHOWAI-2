<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .test-panel {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            max-width: 300px;
        }
        
        .test-button {
            background: #EF3124;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            margin: 2px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .test-button:hover {
            background: #d6281a;
        }
        
        .test-input {
            width: 100%;
            padding: 5px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- –û–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ -->
        <div class="chat-container" id="chatContainer">
            <div class="chat-messages" id="chatMessages">
                <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å –≤–≤–æ–¥–∞ -->
        <div class="input-panel">
            <div class="input-container">
                <input 
                    type="text" 
                    id="messageInput" 
                    placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." 
                    autocomplete="off"
                    maxlength="1000"
                >
                <button id="sendButton" class="send-button" disabled>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M2 21L23 12L2 3V10L17 12L2 14V21Z" fill="currentColor"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div class="test-panel">
        <h4>üß™ –ü–∞–Ω–µ–ª—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h4>
        
        <button class="test-button" onclick="testWelcome()">–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ</button>
        <button class="test-button" onclick="testCashback()">–ö—ç—à–±—ç–∫</button>
        <button class="test-button" onclick="testPoints()">–ë–∞–ª–ª—ã</button>
        <button class="test-button" onclick="testPartners()">–ü–∞—Ä—Ç–Ω–µ—Ä—ã</button>
        <button class="test-button" onclick="testFormatting()">–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
        <button class="test-button" onclick="testLongMessage()">–î–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
        <button class="test-button" onclick="testLimit()">–¢–µ—Å—Ç –ª–∏–º–∏—Ç–∞</button>
        <button class="test-button" onclick="clearChat()">–û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç</button>
        
        <input type="text" class="test-input" id="customMessage" placeholder="–ö–∞—Å—Ç–æ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ">
        <button class="test-button" onclick="sendCustomMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        
        <div style="margin-top: 10px; font-size: 11px; color: #666;">
            –°–æ–æ–±—â–µ–Ω–∏–π: <span id="messageCount">0</span><br>
            –õ–∏–º–∏—Ç: <span id="limitStatus">–ù–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç</span>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–∏–º–∏—Ç–∞ -->
    <div class="limit-page" id="limitPage" style="display: none;">
        <div class="limit-content">
            <div class="limit-emoji">üöÄ</div>
            <h1 class="limit-title">–ï—â—ë —á—É—Ç—å-—á—É—Ç—å</h1>
            <p class="limit-description">
                –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –ª–∏–º–∏—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏. 
                –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –æ–±—â–µ–Ω–∏—è —Å –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º.
            </p>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function testWelcome() {
            sendTestMessage("–ü—Ä–∏–≤–µ—Ç! –†–∞—Å—Å–∫–∞–∂–∏ –æ —Å–∏—Å—Ç–µ–º–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏");
        }
        
        function testCashback() {
            sendTestMessage("–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫—ç—à–±—ç–∫?");
        }
        
        function testPoints() {
            sendTestMessage("–°–∫–æ–ª—å–∫–æ –±–∞–ª–ª–æ–≤ —è –º–æ–≥—É –Ω–∞–∫–æ–ø–∏—Ç—å?");
        }
        
        function testPartners() {
            sendTestMessage("–ö–∞–∫–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä—ã —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ?");
        }
        
        function testFormatting() {
            sendTestMessage("**–ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç** –∏ *–∫—É—Ä—Å–∏–≤* –∏ —Å–ø–∏—Å–æ–∫:\n- –ü—É–Ω–∫—Ç 1\n- –ü—É–Ω–∫—Ç 2");
        }
        
        function testLongMessage() {
            const longMessage = "–≠—Ç–æ –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ".repeat(50);
            sendTestMessage(longMessage);
        }
        
        function testLimit() {
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–∏–º–∏—Ç–∞
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    sendTestMessage(`–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ${i + 1}`);
                }, i * 100);
            }
        }
        
        function sendCustomMessage() {
            const message = document.getElementById('customMessage').value;
            if (message.trim()) {
                sendTestMessage(message);
                document.getElementById('customMessage').value = '';
            }
        }
        
        function sendTestMessage(text) {
            messageInput.value = text;
            messageInput.dispatchEvent(new Event('input'));
            sendMessage();
        }
        
        function clearChat() {
            chatMessages.innerHTML = '';
            messageCount = 0;
            isLimitReached = false;
            limitPage.style.display = 'none';
            document.querySelector('.app').style.display = 'flex';
            updateTestPanel();
        }
        
        function updateTestPanel() {
            document.getElementById('messageCount').textContent = messageCount;
            document.getElementById('limitStatus').textContent = isLimitReached ? '–î–æ—Å—Ç–∏–≥–Ω—É—Ç' : '–ù–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç';
        }
        
        // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞–Ω–µ–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        const originalAddMessage = addMessage;
        addMessage = function(type, text) {
            originalAddMessage(type, text);
            if (type === 'user') {
                messageCount++;
                updateTestPanel();
            }
        };
        
        const originalShowLimitPage = showLimitPage;
        showLimitPage = function() {
            originalShowLimitPage();
            updateTestPanel();
        };
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
        document.addEventListener('DOMContentLoaded', function() {
            updateTestPanel();
        });
    </script>
</body>
</html>
